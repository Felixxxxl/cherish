<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

<div>
    <canvas id="wasteChart" ></canvas>
</div>

<script>
    

    $(document).ready(function(){
        
        $.ajax({
            url : '/api/home/wastelogchart/',
            type : 'get',
            async : false,
            success:function(response){
                data = response.data;
                label = response.label;
                var ctx = $("#wasteChart")
                var wasteChart = new Chart(ctx,{
                    type:'bar',
                    data:{
                        labels:label,
                        datasets:[{
                            label:'gram',
                            data:data,
                            backgroundColor:'rgba(255, 99, 132, 0.2)',
                            borderColor:'rgba(255, 99, 132, 1)',
                            borderWidth:1,
                        }]
                    },
                    

                })
            }
        })

        

        console.log(data)
        console.log(label)

        
        
    })

    function generateRandomColorArray(n) {
        var colors = [];
        for (var i = 0; i < n; i++) {
            var r = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            var a = 0.2
            var color = `rgba(${r}, ${g}, ${b}, ${a})`;
            colors.push(color);
        }
        return colors;
    }

    
</script>